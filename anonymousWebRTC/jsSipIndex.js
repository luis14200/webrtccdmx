var worker=new Worker("./jsSipStackWorker.js");function objectClone(e){if(null===e||"object"!=typeof e)return e;var n=function(e){var n=e.constructor();for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n};if("object"==typeof e&&!Array.isArray(e))try{return JSON.parse(JSON.stringify(e))}catch(r){return n(e)}return n(e)}worker.onmessage=function(e){postMessage(e.data,"*")};var session=objectClone(window.sessionStorage),local=objectClone(window.localStorage);function addHeaderList(e,n,r=0,t=0){"string"==typeof e&&"string"==typeof n&&"number"==typeof r&&"number"==typeof t?worker.postMessage({cmd:"addHeaderList",headerName:e,headerValue:n,isModify:r,modifyPos:t}):log.error("addHeaderList param type is error. headerName:string, headerValue:string, isModify:number, modifyPos:number")}function jsSipInit(e=null){null===e||"number"==typeof e?worker.postMessage({cmd:"jsSipInit",level:e}):log.error("jsSipInit param type is error. level:number")}function jsSipStart(e){worker.postMessage({cmd:"jsSipStart",config:e})}function jsSipStop(){worker.postMessage({cmd:"jsSipStop"})}function jsSipSendRegister(e,n=null,r=null){"number"==typeof e&&(null===n&&null===r||"string"==typeof n&&"string"==typeof r)?worker.postMessage({cmd:"jsSipSendRegister",expires:e,contentType:n,body:r}):log.error("jsSipSendRegister param type is error. expires:number, contentType:string/null, body:string/null")}function jsSipSendUnRegister(e=null,n=null){null===e&&null===n||"string"==typeof e&&"string"==typeof n?worker.postMessage({cmd:"jsSipSendUnRegister",contentType:e,body:n}):log.error("jsSipSendUnRegister param type is error. contentType:string/null, body:string/null")}function jsSipSendMessage(e=-1,n=null,r=null){"number"==typeof e&&(null===n&&null===r||"string"==typeof n&&"string"==typeof r)?worker.postMessage({cmd:"jsSipSendMessage",line:e,contentType:n,body:r}):log.error("jsSipSendMessage param type is error. line:number, contentType:string/null, body:string/null")}function jsSipSendOptions(e,n=-1,r=null,t=null){"string"==typeof e&&"number"==typeof n&&(null===r&&null===t||"string"==typeof r&&"string"==typeof t)?worker.postMessage({cmd:"jsSipSendOptions",toUri:e,line:n,contentType:r,body:t}):log.error("jsSipSendOptions param type is error. line:number, contentType:string/null, body:string/null")}function jsSipSendSubscribe(e,n,r,t,o,s=null,l=null){"string"!=typeof e||"string"!=typeof n||"number"!=typeof r||"number"!=typeof t||null!==o&&"string"!=typeof o||!(null===s&&null===l||"string"==typeof s&&"string"==typeof l)?log.error("jsSipSendSubscribe param type is error. line:number, contentType:string/null, body:string/null"):worker.postMessage({cmd:"jsSipSendSubscribe",toUri:e,event:n,id:r,expires:t,accept:o,contentType:s,body:l})}function jsSipSendInvite(e,n=0,r=null,t=null,o=!1){(null===r&&null===t||"string"==typeof r&&"string"==typeof t)&&"string"==typeof e&&"number"==typeof n&&"boolean"==typeof o?worker.postMessage({cmd:"jsSipSendInvite",toUri:e,line:n,contentType:r,body:t,anonymous:o}):log.error("jsSipSendInvite param type is error. toUri:string, line:number, contentType:string/null, body:string/null, anonymous:boolean")}function jsSipSendCancel(e,n=null,r=null){"number"==typeof e&&(null===n&&null===r||"string"==typeof n&&"string"==typeof r)?worker.postMessage({cmd:"jsSipSendCancel",line:e,contentType:n,body:r}):log.error("jsSipSendCancel param type is error. line:number, contentType:string/null, body:string/null")}function jsSipSendReInvite(e=0,n=null,r=null){"number"==typeof e&&(null===n&&null===r||"string"==typeof n&&"string"==typeof r)?worker.postMessage({cmd:"jsSipSendReInvite",line:e,contentType:n,body:r}):log.error("jsSipSendReInvite param type is error. line:number, contentType:string/null, body:string/null")}function jsSipSendInfo(e=0,n=null,r=null){"number"==typeof e&&(null===n&&null===r||"string"==typeof n&&"string"==typeof r)?worker.postMessage({cmd:"jsSipSendInfo",line:e,contentType:n,body:r}):log.error("jsSipSendInfo param type is error. line:number, contentType:string/null, body:string/null")}function jsSipSendUpdate(e=0,n=null,r=null){"number"==typeof e&&(null===n&&null===r||"string"==typeof n&&"string"==typeof r)?worker.postMessage({cmd:"jsSipSendUpdate",line:e,contentType:n,body:r}):log.error("jsSipSendUpdate param type is error. line:number, contentType:string/null, body:string/null")}function jsSipSendRefer(e,n,r=0,t=null,o=null){(null===t&&null===o||"string"==typeof t&&"string"==typeof o)&&"number"==typeof r&&"string"==typeof e&&"string"==typeof n?worker.postMessage({cmd:"jsSipSendRefer",referTo:e,referredBy:n,line:r,contentType:t,body:o}):log.error("jsSipSendRefer param type is error. line:number, contentType:string/null, body:string/null")}function jsSipSendBye(e=0,n=null,r=null){"number"==typeof e&&(null===n&&null===r||"string"==typeof n&&"string"==typeof r)?worker.postMessage({cmd:"jsSipSendBye",line:e,contentType:n,body:r}):log.error("jsSipSendBye param type is error. line:number, contentType:string/null, body:string/null")}function jsSipSendAck(e=0,n=null,r=null){"number"==typeof e&&(null===n&&null===r||"string"==typeof n&&"string"==typeof r)?worker.postMessage({cmd:"jsSipSendAck",line:e,contentType:n,body:r}):log.error("jsSipSendAck param type is error. line:number, contentType:string/null, body:string/null")}function jsSipSendRsp(e,n,r=null,t=null){"number"==typeof e&&"number"==typeof n&&(null===r&&null===t||"string"==typeof r&&"string"==typeof t)?worker.postMessage({cmd:"jsSipSendRsp",transaction:e,rspcode:n,contentType:r,body:t}):log.error("jsSipSendRsp param type is error. transaction:number, rspcode:number, contentType:string/null, body:string/null")}function jsSipAcceptCall(e,n=0,r=200,t=null,o=null){"number"==typeof e&&"number"==typeof n&&"number"==typeof r&&(null===t&&null===o||"string"==typeof t&&"string"==typeof o)?worker.postMessage({cmd:"jsSipAcceptCall",transaction:e,line:n,rspcode:r,contentType:t,body:o}):log.error("jsSipAcceptCall param type is error. transaction:number, line:number, contentType:string/null, body:string/null")}function jsSipParser(e){"string"==typeof e?worker.postMessage({cmd:"jsSipParser",param:e}):log.error("jsSipParser param type is error. buf:string")}worker.postMessage({cmd:"workerParam",sessionStorage:session,localStorage:local});